---
import "../styles/global.scss";

export interface Props {
  frontmatter: {
    pageTitle: string;
  };
}

const { frontmatter } = Astro.props;
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="icon" type="image/svg+xml" href="" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content={Astro.generator} />
    <title>{frontmatter.pageTitle}</title>
  </head>
  <body>
    <header class="body-lg">
      <div class="max-page-width">🌱 Jess Crees</div>
    </header>

    <div class="max-page-width">
      <slot />
    </div>

    <footer>
      <div class="max-page-width">
        <h4>Get in Touch</h4>

        <section>
          <div class="input-with-label">
            <label for="email">Email Address</label>
            <input
              id="email"
              name="email"
              placeholder="jane@smith.com"
              type="email"
            />
          </div>

          <div class="input-with-label">
            <label for="text">Your Message</label>
            <textarea
              cols="30"
              id="text"
              name="text"
              placeholder="What's on your mind?"
              rows="5"></textarea>
          </div>

          <button>Send Message</button>
        </section>
      </div>
    </footer>

    <script>
      const favicons = ["🌧️", "🌱", "🌿", "🪴", "🌳", "🍂"];
      let index = 0;
      let favicon = document.querySelector(
        'link[rel="icon"]'
      ) as HTMLAnchorElement;

      if (favicon) {
        setInterval(() => {
          const svg = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><text y="1.1em" font-size="80">${favicons[index]}</text></svg>`;
          favicon.href = `data:image/svg+xml,${encodeURIComponent(svg)}`;
          index = (index + 1) % favicons.length;
        }, 1500);
      }
    </script>
  </body>
</html>
